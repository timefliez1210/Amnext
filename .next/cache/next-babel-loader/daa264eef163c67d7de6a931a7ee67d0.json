{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\crfab\\\\Desktop\\\\forsage-boilerplate\\\\components\\\\login\\\\ManualLogin.jsx\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport AccountContext from \"../AccountContext\";\nimport { ABI, ADDRESS } from \"../../utils/globals\";\nimport { loadWeb3 } from \"../../utils/utility\";\nimport Web3 from \"web3\";\nimport Router from \"next/router\";\n\nvar ManualLogin = /*#__PURE__*/function (_Component) {\n  _inherits(ManualLogin, _Component);\n\n  var _super = _createSuper(ManualLogin);\n\n  _createClass(ManualLogin, [{\n    key: \"loadBlockchainData\",\n    value: function () {\n      var _loadBlockchainData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var web3, contract, isExists, id, _account, _isExists;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\n                contract = new web3.eth.Contract(ABI, ADDRESS);\n                this.setState({\n                  contract: contract\n                });\n\n                if (!(this.state.account[1] === \"x\")) {\n                  _context.next = 11;\n                  break;\n                }\n\n                _context.next = 7;\n                return contract.methods.isUserExists(this.state.account).call();\n\n              case 7:\n                isExists = _context.sent;\n                this.setState({\n                  isExist: isExists\n                });\n                _context.next = 19;\n                break;\n\n              case 11:\n                id = this.state.account;\n                _context.next = 14;\n                return contract.methods.idToAddress(id).call();\n\n              case 14:\n                _account = _context.sent;\n                _context.next = 17;\n                return contract.methods.isUserExists(_account).call();\n\n              case 17:\n                _isExists = _context.sent;\n                this.setState({\n                  isExist: _isExists,\n                  account: _account\n                });\n\n              case 19:\n                _context.next = 25;\n                break;\n\n              case 21:\n                _context.prev = 21;\n                _context.t0 = _context[\"catch\"](0);\n                window.alert(\"Trouble Connecting please try again!\" + _context.t0);\n                this.setState({\n                  loading: false\n                });\n\n              case 25:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 21]]);\n      }));\n\n      function loadBlockchainData() {\n        return _loadBlockchainData.apply(this, arguments);\n      }\n\n      return loadBlockchainData;\n    }()\n  }, {\n    key: \"login\",\n    value: function () {\n      var _login = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.setState({\n                  loading: true\n                });\n                _context2.prev = 1;\n                _context2.next = 4;\n                return loadWeb3();\n\n              case 4:\n                _context2.next = 6;\n                return this.loadBlockchainData();\n\n              case 6:\n                _context2.next = 12;\n                break;\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](1);\n                window.alert(\"Invalid ETH ADDRESS, Checksum doesnt match\");\n                this.setState({\n                  loading: false\n                });\n\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[1, 8]]);\n      }));\n\n      function login() {\n        return _login.apply(this, arguments);\n      }\n\n      return login;\n    }()\n  }, {\n    key: \"redirect\",\n    value: function redirect() {\n      if (this.state.isExist) {\n        Router.push(\"/dashboard\");\n      } else {\n        window.alert(\"The user you are looking for doesn't exist. Try another one!\");\n        this.setState({\n          loading: false\n        });\n      }\n    }\n  }]);\n\n  function ManualLogin(props) {\n    var _this;\n\n    _classCallCheck(this, ManualLogin);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      account: \"\",\n      isExist: false,\n      loading: false\n    };\n    return _this;\n  }\n\n  _createClass(ManualLogin, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$context = this.context,\n          account = _this$context.account,\n          setAccount = _this$context.setAccount;\n      var isLoading = this.state.loading;\n      return __jsx(React.Fragment, null, __jsx(\"form\", {\n        onSubmit: /*#__PURE__*/function () {\n          var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(event) {\n            var newUser;\n            return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n              while (1) {\n                switch (_context3.prev = _context3.next) {\n                  case 0:\n                    event.preventDefault();\n                    _context3.next = 3;\n                    return _this2.login();\n\n                  case 3:\n                    newUser = _this2.state.account;\n                    setAccount(newUser);\n\n                    _this2.redirect();\n\n                  case 6:\n                  case \"end\":\n                    return _context3.stop();\n                }\n              }\n            }, _callee3);\n          }));\n\n          return function (_x) {\n            return _ref.apply(this, arguments);\n          };\n        }(),\n        className: \"jsx-4114729252\" + \" \" + \"manual\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }\n      }, __jsx(\"input\", {\n        type: \"text\",\n        onChange: function onChange(event) {\n          var address = _this2.input.value.toString();\n\n          _this2.setState({\n            account: address\n          });\n        },\n        ref: function ref(input) {\n          _this2.input = input;\n        },\n        placeholder: \"Wallet Address or ID...\",\n        className: \"jsx-4114729252\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }\n      }), !isLoading ? __jsx(\"button\", {\n        className: \"jsx-4114729252\" + \" \" + \"manual-btn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }\n      }, __jsx(\"b\", {\n        className: \"jsx-4114729252\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }\n      }, \"View\")) : __jsx(\"div\", {\n        className: \"jsx-4114729252\" + \" \" + \"manual-load\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }\n      }, __jsx(\"b\", {\n        className: \"jsx-4114729252\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 15\n        }\n      }, \"Loading\"))), __jsx(_JSXStyle, {\n        id: \"4114729252\",\n        __self: this\n      }, \".manual-btn.jsx-4114729252{background:rgb(55,214,255);background:linear-gradient( 223deg, rgba(55,214,255,1) 0%, rgba(16,83,245,1) 46% );box-shadow:none;outline:none;border:none;}.manual-load.jsx-4114729252{background:rgb(55,214,255);background:linear-gradient( 223deg, rgba(55,214,255,1) 0%, rgba(16,83,245,1) 46% );box-shadow:none;outline:none;border:none;width:100%;text-align:center;padding:20px 0;border-radius:30px;color:white;font-size:1.2em;}input.jsx-4114729252{width:100%;background:rgba(16,1,62,1);box-shadow:none;outline:none;border:none;padding:20px 20px;border-radius:30px;font-size:1.2em;margin:30px 0;color:grey;}button.jsx-4114729252{width:100%;text-align:center;padding:20px 0;border-radius:30px;color:white;font-size:1.2em;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcY3JmYWJcXERlc2t0b3BcXGZvcnNhZ2UtYm9pbGVycGxhdGVcXGNvbXBvbmVudHNcXGxvZ2luXFxNYW51YWxMb2dpbi5qc3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBc0dvQixBQUcwQyxBQVdBLEFBaUJsQixBQWFBLFdBWm1CLEFBYVosZ0JBckNqQixBQVdBLEVBMkJjLFNBYkMsTUFjRyxVQWJOLFNBY0QsSUFiQSxRQWNJLElBYkUsWUFjcEIsTUFicUIsYUE1QkgsQUFXQSxNQWtCQSxVQTVCSCxBQVdBLE1Ba0JDLE9BNUJGLEFBV0EsT0FrQkQsS0E1QmIsQUFXYSxNQWtCYixLQWpCb0Isa0JBQ0gsZUFDSSxtQkFDUCxZQUNJLGdCQUNsQiIsImZpbGUiOiJDOlxcVXNlcnNcXGNyZmFiXFxEZXNrdG9wXFxmb3JzYWdlLWJvaWxlcnBsYXRlXFxjb21wb25lbnRzXFxsb2dpblxcTWFudWFsTG9naW4uanN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgQWNjb3VudENvbnRleHQgZnJvbSBcIi4uL0FjY291bnRDb250ZXh0XCI7XHJcbmltcG9ydCB7IEFCSSwgQUREUkVTUyB9IGZyb20gXCIuLi8uLi91dGlscy9nbG9iYWxzXCI7XHJcbmltcG9ydCB7IGxvYWRXZWIzIH0gZnJvbSBcIi4uLy4uL3V0aWxzL3V0aWxpdHlcIjtcclxuaW1wb3J0IFdlYjMgZnJvbSBcIndlYjNcIjtcclxuaW1wb3J0IFJvdXRlciBmcm9tIFwibmV4dC9yb3V0ZXJcIjtcclxuXHJcbmNsYXNzIE1hbnVhbExvZ2luIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBzdGF0aWMgY29udGV4dFR5cGUgPSBBY2NvdW50Q29udGV4dDtcclxuXHJcbiAgYXN5bmMgbG9hZEJsb2NrY2hhaW5EYXRhKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgd2ViMyA9IG5ldyBXZWIzKFdlYjMuZ2l2ZW5Qcm92aWRlciB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6ODU0NVwiKTtcclxuICAgICAgY29uc3QgY29udHJhY3QgPSBuZXcgd2ViMy5ldGguQ29udHJhY3QoQUJJLCBBRERSRVNTKTtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvbnRyYWN0IH0pO1xyXG4gICAgICBpZiAodGhpcy5zdGF0ZS5hY2NvdW50WzFdID09PSBcInhcIikge1xyXG4gICAgICAgIGNvbnN0IGlzRXhpc3RzID0gYXdhaXQgY29udHJhY3QubWV0aG9kc1xyXG4gICAgICAgICAgLmlzVXNlckV4aXN0cyh0aGlzLnN0YXRlLmFjY291bnQpXHJcbiAgICAgICAgICAuY2FsbCgpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0V4aXN0OiBpc0V4aXN0cyB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCBpZCA9IHRoaXMuc3RhdGUuYWNjb3VudDtcclxuICAgICAgICBjb25zdCBfYWNjb3VudCA9IGF3YWl0IGNvbnRyYWN0Lm1ldGhvZHMuaWRUb0FkZHJlc3MoaWQpLmNhbGwoKTtcclxuICAgICAgICBjb25zdCBpc0V4aXN0cyA9IGF3YWl0IGNvbnRyYWN0Lm1ldGhvZHMuaXNVc2VyRXhpc3RzKF9hY2NvdW50KS5jYWxsKCk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzRXhpc3Q6IGlzRXhpc3RzLCBhY2NvdW50OiBfYWNjb3VudCB9KTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICB3aW5kb3cuYWxlcnQoXCJUcm91YmxlIENvbm5lY3RpbmcgcGxlYXNlIHRyeSBhZ2FpbiFcIiArIGUpO1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGluZzogZmFsc2UgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBsb2dpbigpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBsb2FkaW5nOiB0cnVlIH0pO1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgbG9hZFdlYjMoKTtcclxuICAgICAgYXdhaXQgdGhpcy5sb2FkQmxvY2tjaGFpbkRhdGEoKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICB3aW5kb3cuYWxlcnQoXCJJbnZhbGlkIEVUSCBBRERSRVNTLCBDaGVja3N1bSBkb2VzbnQgbWF0Y2hcIik7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBsb2FkaW5nOiBmYWxzZSB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlZGlyZWN0KCkge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuaXNFeGlzdCkge1xyXG4gICAgICBSb3V0ZXIucHVzaChcIi9kYXNoYm9hcmRcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB3aW5kb3cuYWxlcnQoXHJcbiAgICAgICAgXCJUaGUgdXNlciB5b3UgYXJlIGxvb2tpbmcgZm9yIGRvZXNuJ3QgZXhpc3QuIFRyeSBhbm90aGVyIG9uZSFcIlxyXG4gICAgICApO1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGluZzogZmFsc2UgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYWNjb3VudDogXCJcIixcclxuICAgICAgaXNFeGlzdDogZmFsc2UsXHJcbiAgICAgIGxvYWRpbmc6IGZhbHNlLFxyXG4gICAgfTtcclxuICB9XHJcbiAgcmVuZGVyKCkge1xyXG4gICAgY29uc3QgeyBhY2NvdW50LCBzZXRBY2NvdW50IH0gPSB0aGlzLmNvbnRleHQ7XHJcbiAgICBjb25zdCBpc0xvYWRpbmcgPSB0aGlzLnN0YXRlLmxvYWRpbmc7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8PlxyXG4gICAgICAgIDxmb3JtXHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJtYW51YWxcIlxyXG4gICAgICAgICAgb25TdWJtaXQ9e2FzeW5jIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2dpbigpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdVc2VyID0gdGhpcy5zdGF0ZS5hY2NvdW50O1xyXG4gICAgICAgICAgICBzZXRBY2NvdW50KG5ld1VzZXIpO1xyXG4gICAgICAgICAgICB0aGlzLnJlZGlyZWN0KCk7XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICBjb25zdCBhZGRyZXNzID0gdGhpcy5pbnB1dC52YWx1ZS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgYWNjb3VudDogYWRkcmVzcyxcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgcmVmPXsoaW5wdXQpID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiV2FsbGV0IEFkZHJlc3Mgb3IgSUQuLi5cIlxyXG4gICAgICAgICAgLz5cclxuXHJcbiAgICAgICAgICB7IWlzTG9hZGluZyA/IChcclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJtYW51YWwtYnRuXCI+XHJcbiAgICAgICAgICAgICAgPGI+VmlldzwvYj5cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1hbnVhbC1sb2FkXCI+XHJcbiAgICAgICAgICAgICAgPGI+TG9hZGluZzwvYj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvZm9ybT5cclxuICAgICAgICA8c3R5bGUganN4PntgXHJcbiAgICAgICAgICAubWFudWFsLWJ0biB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYig1NSwgMjE0LCAyNTUpO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoXHJcbiAgICAgICAgICAgICAgMjIzZGVnLFxyXG4gICAgICAgICAgICAgIHJnYmEoNTUsIDIxNCwgMjU1LCAxKSAwJSxcclxuICAgICAgICAgICAgICByZ2JhKDE2LCA4MywgMjQ1LCAxKSA0NiVcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYm94LXNoYWRvdzogbm9uZTtcclxuICAgICAgICAgICAgb3V0bGluZTogbm9uZTtcclxuICAgICAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLm1hbnVhbC1sb2FkIHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiKDU1LCAyMTQsIDI1NSk7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudChcclxuICAgICAgICAgICAgICAyMjNkZWcsXHJcbiAgICAgICAgICAgICAgcmdiYSg1NSwgMjE0LCAyNTUsIDEpIDAlLFxyXG4gICAgICAgICAgICAgIHJnYmEoMTYsIDgzLCAyNDUsIDEpIDQ2JVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBib3gtc2hhZG93OiBub25lO1xyXG4gICAgICAgICAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgICAgICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHggMDtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMzBweDtcclxuICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDEuMmVtO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaW5wdXQge1xyXG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgxNiwgMSwgNjIsIDEpO1xyXG4gICAgICAgICAgICBib3gtc2hhZG93OiBub25lO1xyXG4gICAgICAgICAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgICAgICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHggMjBweDtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMzBweDtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxLjJlbTtcclxuICAgICAgICAgICAgbWFyZ2luOiAzMHB4IDA7XHJcbiAgICAgICAgICAgIGNvbG9yOiBncmV5O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGJ1dHRvbiB7XHJcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHggMDtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMzBweDtcclxuICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDEuMmVtO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIGB9PC9zdHlsZT5cclxuICAgICAgPC8+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTWFudWFsTG9naW47XHJcbiJdfQ== */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\crfab\\\\\\\\Desktop\\\\\\\\forsage-boilerplate\\\\\\\\components\\\\\\\\login\\\\\\\\ManualLogin.jsx */\"));\n    }\n  }]);\n\n  return ManualLogin;\n}(Component);\n\n_defineProperty(ManualLogin, \"contextType\", AccountContext);\n\nexport default ManualLogin;","map":{"version":3,"sources":["C:/Users/crfab/Desktop/forsage-boilerplate/components/login/ManualLogin.jsx"],"names":["React","Component","AccountContext","ABI","ADDRESS","loadWeb3","Web3","Router","ManualLogin","web3","givenProvider","contract","eth","Contract","setState","state","account","methods","isUserExists","call","isExists","isExist","id","idToAddress","_account","window","alert","loading","loadBlockchainData","push","props","context","setAccount","isLoading","event","preventDefault","login","newUser","redirect","address","input","value","toString"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport AccountContext from \"../AccountContext\";\r\nimport { ABI, ADDRESS } from \"../../utils/globals\";\r\nimport { loadWeb3 } from \"../../utils/utility\";\r\nimport Web3 from \"web3\";\r\nimport Router from \"next/router\";\r\n\r\nclass ManualLogin extends Component {\r\n  static contextType = AccountContext;\r\n\r\n  async loadBlockchainData() {\r\n    try {\r\n      const web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\r\n      const contract = new web3.eth.Contract(ABI, ADDRESS);\r\n      this.setState({ contract });\r\n      if (this.state.account[1] === \"x\") {\r\n        const isExists = await contract.methods\r\n          .isUserExists(this.state.account)\r\n          .call();\r\n        this.setState({ isExist: isExists });\r\n      } else {\r\n        const id = this.state.account;\r\n        const _account = await contract.methods.idToAddress(id).call();\r\n        const isExists = await contract.methods.isUserExists(_account).call();\r\n        this.setState({ isExist: isExists, account: _account });\r\n      }\r\n    } catch (e) {\r\n      window.alert(\"Trouble Connecting please try again!\" + e);\r\n      this.setState({ loading: false });\r\n    }\r\n  }\r\n\r\n  async login() {\r\n    this.setState({ loading: true });\r\n    try {\r\n      await loadWeb3();\r\n      await this.loadBlockchainData();\r\n    } catch (err) {\r\n      window.alert(\"Invalid ETH ADDRESS, Checksum doesnt match\");\r\n      this.setState({ loading: false });\r\n    }\r\n  }\r\n\r\n  redirect() {\r\n    if (this.state.isExist) {\r\n      Router.push(\"/dashboard\");\r\n    } else {\r\n      window.alert(\r\n        \"The user you are looking for doesn't exist. Try another one!\"\r\n      );\r\n      this.setState({ loading: false });\r\n    }\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      account: \"\",\r\n      isExist: false,\r\n      loading: false,\r\n    };\r\n  }\r\n  render() {\r\n    const { account, setAccount } = this.context;\r\n    const isLoading = this.state.loading;\r\n    return (\r\n      <>\r\n        <form\r\n          className=\"manual\"\r\n          onSubmit={async (event) => {\r\n            event.preventDefault();\r\n\r\n            await this.login();\r\n            const newUser = this.state.account;\r\n            setAccount(newUser);\r\n            this.redirect();\r\n          }}\r\n        >\r\n          <input\r\n            type=\"text\"\r\n            onChange={(event) => {\r\n              const address = this.input.value.toString();\r\n              this.setState({\r\n                account: address,\r\n              });\r\n            }}\r\n            ref={(input) => {\r\n              this.input = input;\r\n            }}\r\n            placeholder=\"Wallet Address or ID...\"\r\n          />\r\n\r\n          {!isLoading ? (\r\n            <button className=\"manual-btn\">\r\n              <b>View</b>\r\n            </button>\r\n          ) : (\r\n            <div className=\"manual-load\">\r\n              <b>Loading</b>\r\n            </div>\r\n          )}\r\n        </form>\r\n        <style jsx>{`\r\n          .manual-btn {\r\n            background: rgb(55, 214, 255);\r\n            background: linear-gradient(\r\n              223deg,\r\n              rgba(55, 214, 255, 1) 0%,\r\n              rgba(16, 83, 245, 1) 46%\r\n            );\r\n            box-shadow: none;\r\n            outline: none;\r\n            border: none;\r\n          }\r\n          .manual-load {\r\n            background: rgb(55, 214, 255);\r\n            background: linear-gradient(\r\n              223deg,\r\n              rgba(55, 214, 255, 1) 0%,\r\n              rgba(16, 83, 245, 1) 46%\r\n            );\r\n            box-shadow: none;\r\n            outline: none;\r\n            border: none;\r\n            width: 100%;\r\n            text-align: center;\r\n            padding: 20px 0;\r\n            border-radius: 30px;\r\n            color: white;\r\n            font-size: 1.2em;\r\n          }\r\n          input {\r\n            width: 100%;\r\n            background: rgba(16, 1, 62, 1);\r\n            box-shadow: none;\r\n            outline: none;\r\n            border: none;\r\n            padding: 20px 20px;\r\n            border-radius: 30px;\r\n            font-size: 1.2em;\r\n            margin: 30px 0;\r\n            color: grey;\r\n          }\r\n\r\n          button {\r\n            width: 100%;\r\n            text-align: center;\r\n            padding: 20px 0;\r\n            border-radius: 30px;\r\n            color: white;\r\n            font-size: 1.2em;\r\n          }\r\n        `}</style>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ManualLogin;\r\n"]},"metadata":{},"sourceType":"module"}