{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\crfab\\\\Desktop\\\\forsage-boilerplate\\\\components\\\\login\\\\ManualLogin.jsx\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from \"react\";\nimport AccountContext from \"../AccountContext\";\nimport { ABI, ADDRESS } from \"../../utils/globals\";\nimport { loadWeb3 } from \"../../utils/utility\";\nimport Web3 from \"web3\";\nimport Router from \"next/router\";\nimport { redirect } from \"next/dist/next-server/server/api-utils\";\n\nclass ManualLogin extends Component {\n  async loadBlockchainData() {\n    try {\n      const web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\n      this.setState({\n        account: this.context.account\n      });\n      const contract = new web3.eth.Contract(ABI, ADDRESS);\n      this.setState({\n        contract\n      });\n\n      if (this.state.account[1] === \"x\") {\n        const isExists = await contract.methods.isUserExists(this.state.account).call();\n        this.setState({\n          isExist: isExists\n        });\n      } else {\n        const _account = await contract.methods.idToAddress(this.state.account).call();\n\n        const isExists = await contract.methods.isUserExists(_account).call();\n        this.setState({\n          isExist: isExists\n        }, {\n          account: _account\n        });\n      }\n    } catch (e) {\n      window.alert(\"Trouble Connecting please try again!\" + e);\n    }\n  } //   const isExists = await contract.methods\n  //   .isUserExists(this.state.account)\n  //   .call();\n  // this.setState({ isExist: isExists });\n\n\n  async login() {\n    try {\n      await loadWeb3();\n      await this.loadBlockchainData();\n    } catch (err) {\n      window.alert(\"Invalid ETH ADDRESS, Checksum doesnt match\");\n    }\n  }\n\n  redirect() {\n    if (this.state.isExist) {\n      Router.push(\"/dashboard\");\n    } else {\n      window.alert(\"The user you are looking for doesn't exist. Try another one!\");\n    }\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      account: \"\",\n      isExist: false\n    };\n  }\n\n  render() {\n    const {\n      account,\n      setAccount\n    } = this.context;\n    return __jsx(React.Fragment, null, __jsx(\"form\", {\n      onSubmit: async event => {\n        event.preventDefault();\n        await this.login();\n        const newUser = this.state.account;\n        setAccount(newUser);\n        this.redirect();\n      },\n      className: \"jsx-901526722\" + \" \" + \"manual\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    }, __jsx(\"input\", {\n      type: \"text\",\n      onChange: event => {\n        const address = this.input.value.toString();\n        this.setState({\n          account: address\n        });\n        console.log(this.state.account);\n      },\n      ref: input => {\n        this.input = input;\n      },\n      placeholder: \"Wallet Address or ID...\",\n      className: \"jsx-901526722\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }\n    }), __jsx(\"button\", {\n      className: \"jsx-901526722\" + \" \" + \"manual-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }\n    }, __jsx(\"b\", {\n      className: \"jsx-901526722\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }, \"Viewing\"))), __jsx(_JSXStyle, {\n      id: \"901526722\",\n      __self: this\n    }, \".manual-btn.jsx-901526722{background:rgb(55,214,255);background:linear-gradient( 223deg, rgba(55,214,255,1) 0%, rgba(16,83,245,1) 46% );box-shadow:none;outline:none;border:none;}input.jsx-901526722{width:100%;background:rgba(16,1,62,1);box-shadow:none;outline:none;border:none;padding:20px 20px;border-radius:30px;font-size:1.2em;margin:30px 0;color:grey;}button.jsx-901526722{width:100%;text-align:center;padding:20px 0;border-radius:30px;color:white;font-size:1.2em;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcY3JmYWJcXERlc2t0b3BcXGZvcnNhZ2UtYm9pbGVycGxhdGVcXGNvbXBvbmVudHNcXGxvZ2luXFxNYW51YWxMb2dpbi5qc3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBa0dvQixBQUcwQyxBQVdsQixBQWFBLFdBWm1CLEFBYVosZ0JBcEJqQixFQXFCYyxTQWJDLE1BY0csVUFiTixTQWNELElBYkEsUUFjSSxJQWJFLFlBY3BCLE1BYnFCLGFBWEgsTUFZQSxVQVhILE1BWUMsT0FYRixPQVlELEtBWGIsTUFZQSIsImZpbGUiOiJDOlxcVXNlcnNcXGNyZmFiXFxEZXNrdG9wXFxmb3JzYWdlLWJvaWxlcnBsYXRlXFxjb21wb25lbnRzXFxsb2dpblxcTWFudWFsTG9naW4uanN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgQWNjb3VudENvbnRleHQgZnJvbSBcIi4uL0FjY291bnRDb250ZXh0XCI7XHJcbmltcG9ydCB7IEFCSSwgQUREUkVTUyB9IGZyb20gXCIuLi8uLi91dGlscy9nbG9iYWxzXCI7XHJcbmltcG9ydCB7IGxvYWRXZWIzIH0gZnJvbSBcIi4uLy4uL3V0aWxzL3V0aWxpdHlcIjtcclxuaW1wb3J0IFdlYjMgZnJvbSBcIndlYjNcIjtcclxuaW1wb3J0IFJvdXRlciBmcm9tIFwibmV4dC9yb3V0ZXJcIjtcclxuaW1wb3J0IHsgcmVkaXJlY3QgfSBmcm9tIFwibmV4dC9kaXN0L25leHQtc2VydmVyL3NlcnZlci9hcGktdXRpbHNcIjtcclxuXHJcbmNsYXNzIE1hbnVhbExvZ2luIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBzdGF0aWMgY29udGV4dFR5cGUgPSBBY2NvdW50Q29udGV4dDtcclxuXHJcbiAgYXN5bmMgbG9hZEJsb2NrY2hhaW5EYXRhKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgd2ViMyA9IG5ldyBXZWIzKFdlYjMuZ2l2ZW5Qcm92aWRlciB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6ODU0NVwiKTtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFjY291bnQ6IHRoaXMuY29udGV4dC5hY2NvdW50IH0pO1xyXG4gICAgICBjb25zdCBjb250cmFjdCA9IG5ldyB3ZWIzLmV0aC5Db250cmFjdChBQkksIEFERFJFU1MpO1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgY29udHJhY3QgfSk7XHJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmFjY291bnRbMV0gPT09IFwieFwiKSB7XHJcbiAgICAgICAgY29uc3QgaXNFeGlzdHMgPSBhd2FpdCBjb250cmFjdC5tZXRob2RzXHJcbiAgICAgICAgICAuaXNVc2VyRXhpc3RzKHRoaXMuc3RhdGUuYWNjb3VudClcclxuICAgICAgICAgIC5jYWxsKCk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzRXhpc3Q6IGlzRXhpc3RzIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IF9hY2NvdW50ID0gYXdhaXQgY29udHJhY3QubWV0aG9kc1xyXG4gICAgICAgICAgLmlkVG9BZGRyZXNzKHRoaXMuc3RhdGUuYWNjb3VudClcclxuICAgICAgICAgIC5jYWxsKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGlzRXhpc3RzID0gYXdhaXQgY29udHJhY3QubWV0aG9kcy5pc1VzZXJFeGlzdHMoX2FjY291bnQpLmNhbGwoKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNFeGlzdDogaXNFeGlzdHMgfSwgeyBhY2NvdW50OiBfYWNjb3VudCB9KTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICB3aW5kb3cuYWxlcnQoXCJUcm91YmxlIENvbm5lY3RpbmcgcGxlYXNlIHRyeSBhZ2FpbiFcIiArIGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gICBjb25zdCBpc0V4aXN0cyA9IGF3YWl0IGNvbnRyYWN0Lm1ldGhvZHNcclxuICAvLyAgIC5pc1VzZXJFeGlzdHModGhpcy5zdGF0ZS5hY2NvdW50KVxyXG4gIC8vICAgLmNhbGwoKTtcclxuICAvLyB0aGlzLnNldFN0YXRlKHsgaXNFeGlzdDogaXNFeGlzdHMgfSk7XHJcblxyXG4gIGFzeW5jIGxvZ2luKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgbG9hZFdlYjMoKTtcclxuICAgICAgYXdhaXQgdGhpcy5sb2FkQmxvY2tjaGFpbkRhdGEoKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICB3aW5kb3cuYWxlcnQoXCJJbnZhbGlkIEVUSCBBRERSRVNTLCBDaGVja3N1bSBkb2VzbnQgbWF0Y2hcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZWRpcmVjdCgpIHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmlzRXhpc3QpIHtcclxuICAgICAgUm91dGVyLnB1c2goXCIvZGFzaGJvYXJkXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgd2luZG93LmFsZXJ0KFxyXG4gICAgICAgIFwiVGhlIHVzZXIgeW91IGFyZSBsb29raW5nIGZvciBkb2Vzbid0IGV4aXN0LiBUcnkgYW5vdGhlciBvbmUhXCJcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBhY2NvdW50OiBcIlwiLFxyXG4gICAgICBpc0V4aXN0OiBmYWxzZSxcclxuICAgIH07XHJcbiAgfVxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IHsgYWNjb3VudCwgc2V0QWNjb3VudCB9ID0gdGhpcy5jb250ZXh0O1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPD5cclxuICAgICAgICA8Zm9ybVxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwibWFudWFsXCJcclxuICAgICAgICAgIG9uU3VibWl0PXthc3luYyAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2dpbigpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdVc2VyID0gdGhpcy5zdGF0ZS5hY2NvdW50O1xyXG4gICAgICAgICAgICBzZXRBY2NvdW50KG5ld1VzZXIpO1xyXG4gICAgICAgICAgICB0aGlzLnJlZGlyZWN0KCk7XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICBjb25zdCBhZGRyZXNzID0gdGhpcy5pbnB1dC52YWx1ZS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgYWNjb3VudDogYWRkcmVzcyxcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLmFjY291bnQpO1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICByZWY9eyhpbnB1dCkgPT4ge1xyXG4gICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJXYWxsZXQgQWRkcmVzcyBvciBJRC4uLlwiXHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJtYW51YWwtYnRuXCI+XHJcbiAgICAgICAgICAgIDxiPlZpZXdpbmc8L2I+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgPHN0eWxlIGpzeD57YFxyXG4gICAgICAgICAgLm1hbnVhbC1idG4ge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2IoNTUsIDIxNCwgMjU1KTtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KFxyXG4gICAgICAgICAgICAgIDIyM2RlZyxcclxuICAgICAgICAgICAgICByZ2JhKDU1LCAyMTQsIDI1NSwgMSkgMCUsXHJcbiAgICAgICAgICAgICAgcmdiYSgxNiwgODMsIDI0NSwgMSkgNDYlXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IG5vbmU7XHJcbiAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7XHJcbiAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlucHV0IHtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTYsIDEsIDYyLCAxKTtcclxuICAgICAgICAgICAgYm94LXNoYWRvdzogbm9uZTtcclxuICAgICAgICAgICAgb3V0bGluZTogbm9uZTtcclxuICAgICAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgICAgICBwYWRkaW5nOiAyMHB4IDIwcHg7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDMwcHg7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMS4yZW07XHJcbiAgICAgICAgICAgIG1hcmdpbjogMzBweCAwO1xyXG4gICAgICAgICAgICBjb2xvcjogZ3JleTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBidXR0b24ge1xyXG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgICBwYWRkaW5nOiAyMHB4IDA7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDMwcHg7XHJcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxLjJlbTtcclxuICAgICAgICAgIH1cclxuICAgICAgICBgfTwvc3R5bGU+XHJcbiAgICAgIDwvPlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1hbnVhbExvZ2luO1xyXG4iXX0= */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\crfab\\\\\\\\Desktop\\\\\\\\forsage-boilerplate\\\\\\\\components\\\\\\\\login\\\\\\\\ManualLogin.jsx */\"));\n  }\n\n}\n\n_defineProperty(ManualLogin, \"contextType\", AccountContext);\n\nexport default ManualLogin;","map":{"version":3,"sources":["C:/Users/crfab/Desktop/forsage-boilerplate/components/login/ManualLogin.jsx"],"names":["React","Component","AccountContext","ABI","ADDRESS","loadWeb3","Web3","Router","redirect","ManualLogin","loadBlockchainData","web3","givenProvider","setState","account","context","contract","eth","Contract","state","isExists","methods","isUserExists","call","isExist","_account","idToAddress","e","window","alert","login","err","push","constructor","props","render","setAccount","event","preventDefault","newUser","address","input","value","toString","console","log"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport AccountContext from \"../AccountContext\";\r\nimport { ABI, ADDRESS } from \"../../utils/globals\";\r\nimport { loadWeb3 } from \"../../utils/utility\";\r\nimport Web3 from \"web3\";\r\nimport Router from \"next/router\";\r\nimport { redirect } from \"next/dist/next-server/server/api-utils\";\r\n\r\nclass ManualLogin extends Component {\r\n  static contextType = AccountContext;\r\n\r\n  async loadBlockchainData() {\r\n    try {\r\n      const web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\r\n      this.setState({ account: this.context.account });\r\n      const contract = new web3.eth.Contract(ABI, ADDRESS);\r\n      this.setState({ contract });\r\n      if (this.state.account[1] === \"x\") {\r\n        const isExists = await contract.methods\r\n          .isUserExists(this.state.account)\r\n          .call();\r\n        this.setState({ isExist: isExists });\r\n      } else {\r\n        const _account = await contract.methods\r\n          .idToAddress(this.state.account)\r\n          .call();\r\n\r\n        const isExists = await contract.methods.isUserExists(_account).call();\r\n        this.setState({ isExist: isExists }, { account: _account });\r\n      }\r\n    } catch (e) {\r\n      window.alert(\"Trouble Connecting please try again!\" + e);\r\n    }\r\n  }\r\n\r\n  //   const isExists = await contract.methods\r\n  //   .isUserExists(this.state.account)\r\n  //   .call();\r\n  // this.setState({ isExist: isExists });\r\n\r\n  async login() {\r\n    try {\r\n      await loadWeb3();\r\n      await this.loadBlockchainData();\r\n    } catch (err) {\r\n      window.alert(\"Invalid ETH ADDRESS, Checksum doesnt match\");\r\n    }\r\n  }\r\n\r\n  redirect() {\r\n    if (this.state.isExist) {\r\n      Router.push(\"/dashboard\");\r\n    } else {\r\n      window.alert(\r\n        \"The user you are looking for doesn't exist. Try another one!\"\r\n      );\r\n    }\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      account: \"\",\r\n      isExist: false,\r\n    };\r\n  }\r\n  render() {\r\n    const { account, setAccount } = this.context;\r\n    return (\r\n      <>\r\n        <form\r\n          className=\"manual\"\r\n          onSubmit={async (event) => {\r\n            event.preventDefault();\r\n            await this.login();\r\n            const newUser = this.state.account;\r\n            setAccount(newUser);\r\n            this.redirect();\r\n          }}\r\n        >\r\n          <input\r\n            type=\"text\"\r\n            onChange={(event) => {\r\n              const address = this.input.value.toString();\r\n              this.setState({\r\n                account: address,\r\n              });\r\n              console.log(this.state.account);\r\n            }}\r\n            ref={(input) => {\r\n              this.input = input;\r\n            }}\r\n            placeholder=\"Wallet Address or ID...\"\r\n          />\r\n          <button className=\"manual-btn\">\r\n            <b>Viewing</b>\r\n          </button>\r\n        </form>\r\n        <style jsx>{`\r\n          .manual-btn {\r\n            background: rgb(55, 214, 255);\r\n            background: linear-gradient(\r\n              223deg,\r\n              rgba(55, 214, 255, 1) 0%,\r\n              rgba(16, 83, 245, 1) 46%\r\n            );\r\n            box-shadow: none;\r\n            outline: none;\r\n            border: none;\r\n          }\r\n          input {\r\n            width: 100%;\r\n            background: rgba(16, 1, 62, 1);\r\n            box-shadow: none;\r\n            outline: none;\r\n            border: none;\r\n            padding: 20px 20px;\r\n            border-radius: 30px;\r\n            font-size: 1.2em;\r\n            margin: 30px 0;\r\n            color: grey;\r\n          }\r\n\r\n          button {\r\n            width: 100%;\r\n            text-align: center;\r\n            padding: 20px 0;\r\n            border-radius: 30px;\r\n            color: white;\r\n            font-size: 1.2em;\r\n          }\r\n        `}</style>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ManualLogin;\r\n"]},"metadata":{},"sourceType":"module"}